@model PaginatedList<OutcomesFirst.Models.Submission>


@{
    ViewData["Title"] = "Submissions";
}

<h3>
    Submissions
</h3>

    @using (Html.BeginForm("Index", "Submissions", FormMethod.Get))
    {
        <p>
            Service: @Html.DropDownList("svcSearch", "All") &nbsp;
            ID: @Html.TextBox("SearchString") &nbsp;
            Status:  @Html.DropDownList("statusSearch", "All")
            <input type="submit" value="Filter" />
            @*<button class="buttonload">
                    <i class="fa fa-spinner fa-spin"></i>Loading
                </button>*@
        </p>
    }

    <table class="table">

        <thead>
            <tr>
                <th>
                    ID
                </th>

                <th>
                    Service
                </th>
                <th>
                    Status
                </th>

            </tr>
        </thead>

        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.SubmissionReferral.ReferralName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SubmissionService.ServiceName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SubmissionStatus.StatusName)
                    </td>

                    <td>
                        <a asp-action="Edit" asp-route-id="@item.SubmissionId">Edit</a> 
                    </td>
                </tr>
            }

        </tbody>

    </table>
    @*@{
        var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
        var nextDisabled = !Model.HasNextPage ? "disabled" : "";
    }*@

    @*<a asp-action="Index"
       asp-route-sortOrder="@ViewData["CurrentSort"]"
       asp-route-pageNumber="@(Model.PageIndex - 1)"
       asp-route-currentFilter="@ViewData["CurrentFilter"]"
       class="btn btn-default @prevDisabled">
        Previous
    </a>
    <a asp-action="Index"
       asp-route-sortOrder="@ViewData["CurrentSort"]"
       asp-route-pageNumber="@(Model.PageIndex + 1)"
       asp-route-currentFilter="@ViewData["CurrentFilter"]"
       class="btn btn-default @nextDisabled">
        Next
    </a>*@
